<div class='nested-fields'>
    <%= f.inputs do %>
          <div class="form-group">
            <%= f.label :expense_type %>
            <%= f.collection_select :expense_type_id, ExpenseType.order('name ASC'), :id, :name, {id: :receipt_expense_type}, {class: "form-control"} %>
          </div>
        
          
          <div class="form-group">
            <div class="btn-upload-wrapper">
              <button class="btn-upload">Upload Image</button>
              <%= f.file_field :image, id: :receipt_image, class: "myfile"%>
              <label id="image-label"> </label>
            </div>
          </div>
              
        
          <div class="form-group">
            <%= f.label :cost %>
            <%= f.number_field :cost, id: :receipt_cost, class: "form-control"%>
          </div>

           <div class="form-group">
              <%= f.label :location %>
              <%= f.text_field :location, id: :receipt_location, class: "form-control" %>
            </div>
          
          <div class="form-group">
            <%= f.label :receipt_date %>
            <%= f.text_field :receipt_date, data:{ provide:'datepicker' }, id: :receipt_date_end, class: "form-control" %>
          </div>
          
        <%= link_to_remove_association f, { :class => "float-right"} do %>
            <i class="fas fa-minus-circle"></i>
        <% end %>

    <% end %>
</div>

<%= javascript_tag do %>
  if(document.getElementById("receipt_image")!=null){
    document.getElementById("receipt_image").addEventListener("input", function(){
    var fullPath = this.value;
    var filename = fullPath.replace(/^.*[\\\/]/, '');
    document.getElementById("image-label").innerHTML = filename;
   });
  }
<% end %>